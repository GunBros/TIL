## 인트럽트란?

---

> CPU가 프로세스가 실행중일 때 I/O이벤트나 예외 상황이 발생한 경우 CPU에게 알려 처리하도록하는 기술

<br>

## 인터럽트가 필요한 이유

### 선점형 스케줄러 구현

- 타이머 인터럽트가 일정 횟수만큼 증가하면 현재 실행중인 프로세스를 중단 시키고 다른 프로세스로 교체한다.

<br>

### I/O Device와의 커뮤니케이션

- I/O작업이 끝난 프로세스를 깨워야하는데 사용됨

<br>

### 예외상황 처리

- 예를 들어 Divide by zero가 발생하면 CPU에 알려 프로세스를 죽여야한다.

<br>

## 인터럽트 구분

- 내부 인터럽트(소프트웨어 인터럽트): 보통 예외상황이 발생한 경우
- 외부 인터럽트(하드에어 인터럽트): 보통 I/O Device와 관련된 인터럽트(전원이상, 기계 문제, 키보드 입력 , Timer 이벤트)

<br>

## 시스템 콜 인터럽트

- 시스템 콜을 실행하기 위해서는 강제로 코드에 인터럽트 코드를 넣어서 CPU에 실행시켜야한다.

  1. eax레지스터에 시스템 콜 번호를 넣음
  2. ebx레지스터에 시스템 콜에 해당하는 인자를 넣음
  3. 0x80값을 넘겨준다.
  4. CPU는 사용자 모드에서 커널 모드로 바꿔줌
  5. IDT에서 0x80에 해당한는 system_call()함수를 실행
  6. eax레지스터에 등록되어 있는 시스템 콜 번호로 해당 시스템 함수로 이동
  7. ebx레지스터에 저장되어 있는 인자와 함께 실행 8.실행이 끝나면 CPU는 커널 모드에서 사용자 모드로 바꿔줌

## IDT란?

---

> 인터럽트가 미리 정의되어 각각 번호와 실행 코드를 가리키는 주소가 기록되어 있음
>
> 부팅시 운영체제가 기록
