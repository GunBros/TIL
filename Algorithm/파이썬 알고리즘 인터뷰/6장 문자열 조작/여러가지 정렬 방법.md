# 여러가지 정렬 방법

- 파이썬은 정렬 함수를 기본으로 제공한다.
    - 하지만 이 함수는 학계에서 얘기하는 정렬 알고리즘이 아닌 팀소트라는 파이썬에서 시작된 고성능 정렬 알고리즘을 사용한다.

- 일반적인 리스트 정렬

```python
a = [2,5,1,9,7]
print(sorted(a))
# [1, 2, 5, 7, 9]
```

- 문자도 정렬하여 리스트로 바꿔준다.
    - join을 활용하여 정렬한 문자 리스트를 문자열로 바꿔준다.

```python
b = 'zbdaf'
print(sorted(b))
# ['a', 'b', 'd', 'f', 'z']

print("".join(sorted(b)))
# abdfz
```

- sorted 함수는 정렬하여 리스트로 리턴을 해주지만 리스트의 sort 메소드는 리스트 자체를 정렬한다. 이를 제자리 정렬이라고 부른다.
    - 일반적으로 제자리 정렬 알고리즘은 입력을 출력으로 덮어 쓰기 때문에 별도의 추가 공간이 필요하지 않으며 러턴값도 없다

    ```python
    alist.sort()
    # 잘못된 구문, sort()메소드의 리턴 값은 None이다.
    alist = blist.sort()
    ```

- sorted는 key=옵션을 지정해 정렬하기 위한 키 또는 함수를 지정할 수 있다.
    - 문자열의 길이를 오름차순으로 정렬했다.

        ```python
        c = ['ccc', 'aaaa','d', 'bb']
        print(sorted(c, key=len))
        ['d', 'bb', 'ccc', 'aaaa']
        ```

- 첫 문자열과 마지막 문자열을 기준으로 오름 차순 정렬

```python
a = ['cde', 'cfc', 'abc']
def fn(s):
    return s[0], s[-1]
print(sorted(a, key=fn))
# ['abc', 'cfc', 'cde']

# 람다 표현식을 이용
print(sorted(a, key= lambda s: (s[0], s[-1])))
# ['abc', 'cfc', 'cde']
```

<br>

## 파이썬

### 정렬 알고리즘과 팀소트

- 정렬 알고리즘 중에서 가장 인기가 있는 알고리즘은 폰 노이만이 설계한 병합 정렬(Merge Sort)이다.
    - 대부분은 퀵 정렬이 더 빠르지만 데어터에 따라 편차가 크지만 병합 정렬은 O(n log n)으로 일정하다.(Stable Sort)

- 파이썬의 sorted()가 사용하는 알고리즘은?  ⇒ 팀소트!(Tim Sort)
    - 팀 피터스가 피터 매킬로이의 1993년 논문을 기반으로 2002년도에 파이썬을 위해 C로 구현한 알고리즘
    - '실제 데이터는 대부분 이미 정렬되어 있을 것이다'라고 가정하고 실제 데이터에서 고성능을 낼 수 있도록 설계한 알고리즘
    - 대부분의 경우 정렬이 필요할 때는 파이썬의 정렬 함수를 사용하는 편이 가장 빠르다.
        - 실제 데이터에 적합한 팀소트를 사용할 뿐아니라 파이썬 내장 함수로서 저수준의 언어를 이용해 작성되었기 때문
    - 팀소트는 자바 진영에도 영항을 미쳤다
        - 기존의 조슈아 블로크가 구현한 병합 정렬의 개선 버전을 사용해오다가 여러 벤치마크 테스트에서 최대 25배까지 빠른 성능을 보이는 것을 확인한 다음 자바7이 출시될 때는 공식 정렬 알고리즘으로 적용되었다.

<br>
    
| 알고리즘 | 최선 | 평균 | 최악 |
|--|--|--|--|
| 퀵정렬 | Ω(n log n) | Θ(n log n) | O(n^2) |
| 병합 정렬 | Ω(n log n) | Θ(n log n) | O(n log n) |
| 팀소트 | Ω(n) | Θ(n log n) | O(n log n) |

<br>

- 퀵 정렬이 제일 빠른 알고리즘이긴 하지만 최악의 경우 O(n^2)이 된다.
- 다른 알고리즘이 최선일 대도 점근 하한이 Ω(n log n)이지만 팀소트는 '실제 데이터는 대부분 이미 정렬 되어 있을 것이다'라고 가정하고 최적화 하여 Ω(n)까지 가능하다.